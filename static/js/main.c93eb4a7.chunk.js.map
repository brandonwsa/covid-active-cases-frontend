{"version":3,"sources":["components/Nav.tsx","contexts/stateContext.tsx","utilities/DateFormatter.tsx","components/Chart.tsx","components/PercentChart.tsx","components/EmptyChart.tsx","utilities/NumberFormatter.tsx","utilities/MakeDate.tsx","utilities/SelectCases.tsx","utilities/CalcTotalCases.tsx","utilities/CalcPastPercentages.tsx","components/Cases.tsx","components/Dropdown.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Nav","className","href","initContext","state","abbr","setState","Error","stateContext","React","createContext","StateProvider","children","useState","Provider","value","date","year","substring","month","day","concat","Chart","props","chartLabel","dateLabels","new_caseData","i","undefined","push","DateFormatter","submission_date","new_case","reverse","e","console","log","chartData","labels","datasets","label","data","backgroundColor","stateAbbr","prevProps","this","newData","options","maintainAspectRatio","responsive","scales","yAxes","ticks","beginAtZero","height","Component","PercentChart","percents","percentData","color","forEach","p","percent","error","setChartData","useMemo","suggestedMax","EmptyChart","positiveIncreaseData","formatNumber","num","numStr","toString","length","makeDate","getFullYear","getMonth","getDate","selectCases","cases","numOfPastDays","pastCases","casesAdded","sort","a","b","c","singleCase","Number","calcTotalCases","totalCases","calcPastPercentages","population","percentages","totalPositiveCases","j","toFixed","Cases","useContext","setCases","monthAgoDate","setMonthAgoDate","useEffect","url","fetch","response","json","getCases","currentDate","setCurrentDate","pastPercentages","setPastPercentages","pastTwoWeeksCases","setPastTwoWeeksCases","totalActiveCases","setTotalActiveCases","fourWeeksAgo","Date","now","fourWeeksAgoDate","pastFourWeeksCases","pastPercentagesOfActiveCases","twoWeeksAgo","twoWeeksAgoDate","map","find","Dropdown","states","onChange","target","selectedIndex","text","currentTarget","defaultValue","s","App","role","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c93eb4a7.chunk.js","sourcesContent":["/**\r\n * top navigation bar\r\n */\r\n\r\nconst Nav = () => {\r\n    return (\r\n    <header className=\"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow\">\r\n        <a className=\"navbar-brand me-0 px-3\" href=\"javascript:void(0)\">COVID-19 Active Cases</a>\r\n        <a className=\"portfolio me-0 px-3\" href=\"https://brandonwsa.github.io/\">My Portfolio</a>\r\n\r\n    </header>\r\n    );\r\n};\r\n\r\nexport default Nav;","import React, { Dispatch, SetStateAction } from \"react\";\nimport { useState } from \"react\";\n\n/**\n * Allows access to state name and abbreviation from different components.\n * \n * State Context holds: \n *  state: string (name of state)\n *  abbr: string (state abbreviation)\n *  setState: Dispatch<SetStateAction<Context>> (setState method)\n */\n\ntype Context = {\n    state: string;\n    abbr: string;\n    setState: Dispatch<SetStateAction<Context>>;\n}\n\nconst initContext = {\n    state: \"\",\n    abbr: \"\",\n    setState: (state: SetStateAction<Context>): void => {\n        throw new Error('setState function must be overriden'); //incase someone forgets to override the function.\n    },\n};\n\n//create the context\nexport const stateContext = React.createContext(initContext)\n\n//create provider\nconst StateProvider: React.FC = ({children}) => {\n    const [state, setState] = useState<Context>(initContext)\n\n    return (\n        <stateContext.Provider value={{...state, setState}}>\n                {children}\n        </stateContext.Provider>\n    );\n}\n\nexport default StateProvider;","/**\r\n * Takes a date in string form as YYYY-MM-DD and converts it to a string form of MM-DD-YYYY.\r\n * \r\n * @param date :string. Date in string form, passed in from user. Must be in Year-Month-Day format. IE: 2021-01-25...\r\n * \r\n * @returns date in MM-DD-YYYY form as string.\r\n * \r\n */\r\n\r\nconst formatDate = (date: string) => {\r\n    //get the year month day\r\n    let year: string = date.substring(0, 4);\r\n    let month: string = date.substring(5, 7);\r\n    let day: string = date.substring(8, 10);\r\n\r\n    //format and return\r\n    return month.concat(\"-\").concat(day).concat(\"-\").concat(year);\r\n}\r\n\r\n/**\r\n * Takes a date in string form as YYYY-MM-DD and converts it to a number form of YYYYMMDD\r\n * @param date :string. Date in string form, passed in from user. Must be in Year-Month-Day format. IE: 2021-01-25...\r\n * @returns date in YYYYMMDD form as number.\r\n */\r\nconst formatDateNumber = (date: string) => {\r\n    //get the year month day\r\n    let year: string = date.substring(0, 4);\r\n    let month: string = date.substring(5, 7);\r\n    let day: string = date.substring(8, 10);\r\n\r\n    //format and return as number\r\n    return +(year.concat(month).concat(day));\r\n}\r\n\r\nexport default {formatDate, formatDateNumber};","import React from 'react';\r\nimport {Line} from 'react-chartjs-2';\r\nimport {Case} from \"../interfaces/case\";\r\nimport DateFormatter from \"../utilities/DateFormatter\";\r\n\r\n/**\r\n * A chart that displays the states positive increase in numbers from the past two weeks.\r\n * Takes a Case[] and puts the data in a Line Chart.\r\n * \r\n * Uses class component to practice components\r\n * \r\n * @props Cases array of type Case[]\r\n */\r\n\r\nclass Chart extends React.Component<Case[], {chartData:{}, stateAbbr:string}>{\r\n\r\n    constructor(props: Case[], chartLabel: string){\r\n        super(props);\r\n\r\n        //make the label array with dates. Have to use for loop since this.props.map and forEach are undefined.\r\n        let dateLabels: string[] = [];\r\n        let new_caseData: number[] = [];\r\n        let state: string = \"\"; //the state abbreviation. IE: 'il'\r\n        try{\r\n            for (let i=0; i<14; i++){\r\n                //break out of loop if props[i] is undefined.\r\n                //prevents undefined error from occuring.\r\n                if (this.props[i] === undefined){\r\n                    break;\r\n                }\r\n                else {\r\n                    dateLabels.push(DateFormatter.formatDate(this.props[i].submission_date));\r\n                    new_caseData.push(this.props[i].new_case); \r\n                } \r\n            }\r\n            //get the state abbreviation\r\n            if (this.props[0] !== undefined){\r\n                state = this.props[0].state\r\n            }\r\n\r\n            dateLabels.reverse();\r\n            new_caseData.reverse();\r\n            \r\n        }catch(e){\r\n            console.log(e);\r\n        }\r\n        \r\n        //set state labels and data for graph\r\n        this.state={\r\n            chartData:{\r\n                labels: dateLabels,\r\n                datasets: [\r\n                    {\r\n                        label: 'New Positive Cases',\r\n                        data: new_caseData,\r\n                        backgroundColor: \"rgba(255, 15, 15, 0.4)\"\r\n                    }\r\n                ]\r\n                \r\n            },\r\n            stateAbbr: state //use if needed\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Override method to update the chart when new props are passed into component.\r\n     * Gets the new data and sets the state with the data, will re-rendering to the component.\r\n     * @param prevProps previous props from prev chart\r\n     */\r\n    componentDidUpdate(prevProps: Case[]){\r\n        //check if user changed to look at a different state's data.\r\n        if (this.props[0].state !== prevProps[0].state){\r\n            //make the label array with dates. Have to use for loop since this.props.map and forEach are undefined.\r\n            let dateLabels: string[] = [];\r\n            let new_caseData: number[] = [];\r\n            let state: string = \"\"; //the state abbreviation. IE: 'il'\r\n            try{\r\n                for (let i=0; i<14; i++){\r\n                    //break out of loop if props[i] is undefined.\r\n                    //prevents undefined error from occuring.\r\n                    if (this.props[i] === undefined){\r\n                        break;\r\n                    }\r\n                    else {\r\n                        dateLabels.push(DateFormatter.formatDate(this.props[i].submission_date));\r\n                        new_caseData.push(this.props[i].new_case); \r\n                    } \r\n                }\r\n                //get the state abbreviation\r\n                if (this.props[0] !== undefined){\r\n                    state = this.props[0].state\r\n                }\r\n\r\n                dateLabels.reverse();\r\n                new_caseData.reverse();\r\n                \r\n            }catch(e){\r\n                console.log(e);\r\n            }\r\n\r\n            //set new labels and data for graph\r\n            let newData: {} ={\r\n                chartData:{\r\n                    labels: dateLabels,\r\n                    datasets: [\r\n                        {\r\n                            label: 'New Positive Cases',\r\n                            data: new_caseData,\r\n                            backgroundColor: \"rgba(255, 15, 15, 0.4)\"\r\n                        }\r\n                    ]\r\n                    \r\n                },\r\n                stateAbbr: state //use if needed\r\n            }\r\n\r\n            this.setState(newData)\r\n        }\r\n        \r\n        \r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"chart\">\r\n                <Line\r\n                    data={this.state.chartData}\r\n                    options={{\r\n                        maintainAspectRatio: false,\r\n                        responsive: true,\r\n                        scales: {\r\n                            yAxes: [{\r\n                                ticks: {\r\n                                    beginAtZero: true\r\n                                }\r\n                            }]\r\n                        }\r\n                    }}\r\n                    height={500}\r\n                />\r\n\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Chart;","import {Line} from \"react-chartjs-2\";\r\nimport {useState, useMemo} from \"react\";\r\nimport {Percent} from \"../interfaces/percent\";\r\nimport DateFormatter from \"../utilities/DateFormatter\";\r\n\r\n/**\r\n * Takes a Percent[] and displays it in a Line Chart.\r\n * \r\n * Practices using React Functional Components and making sure not too many re renders occur.\r\n * \r\n * @param percents Percents array of type Percent[].\r\n */\r\nconst PercentChart: React.FC<{percents: Percent[]}> = ({children, percents}) => {\r\n\r\n    //get labels and data.\r\n    let dateLabels: string[] = [];\r\n    let percentData: number[] = [];\r\n    let state: string = \"\"; //state abbreviation.\r\n    let color: string = \"rgba(15, 150, 255, 0.4)\"; //color of chart.\r\n\r\n    try {\r\n        percents.forEach(\r\n            (p: Percent) => {\r\n                dateLabels.push(DateFormatter.formatDate(p.submission_date));\r\n                percentData.push(p.percent);\r\n                state = p.state;\r\n            }\r\n        );\r\n    } catch (error) {\r\n        console.log(\"ERROR in PercentChart.tsx: \"+error);\r\n    }\r\n\r\n\r\n    //set default chartData for chart\r\n    const [chartData, setChartData] = useState({\r\n        labels: [\"month-day-year\", \"month-day-year\", \"month-day-year\"],\r\n        datasets: [\r\n            {\r\n                label: 'Past Percentages of Active Cases',\r\n                data: percentData,\r\n                backgroundColor: color,\r\n            }\r\n        ]\r\n    });\r\n\r\n\r\n    //only reget data for chart if state is changed. Prevents too many re-renders from occuring.\r\n    useMemo(() => {\r\n        //make chart with date labels and percentages ONLY if state is selected.\r\n        if (state !== \"\"){\r\n            try {\r\n                setChartData({\r\n                    labels: dateLabels,\r\n                    datasets: [\r\n                        {\r\n                            label: 'Past Percentages of Active Cases',\r\n                            data: percentData,\r\n                            backgroundColor: color,\r\n                        }\r\n                    ]\r\n                });\r\n            } catch (error) {\r\n                console.log(\"ERROR in PercentChart.tsx: \"+error);\r\n            }\r\n        }\r\n        \r\n    }, [state, color]);\r\n    \r\n\r\n\r\n\r\n    return(\r\n        <div className=\"chart\">\r\n            <Line\r\n                data={chartData}\r\n                options={{\r\n                    maintainAspectRatio: false,\r\n                    responsive: true,\r\n                    scales: {\r\n                        yAxes: [{\r\n                            ticks: {\r\n                                suggestedMax: 1,\r\n                                beginAtZero: true\r\n                            }\r\n                        }]\r\n                    }\r\n                }}\r\n                height={500}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PercentChart;","import React from 'react';\r\nimport {Line} from 'react-chartjs-2';\r\n\r\n/**\r\n * Creates an empty chart to display before user selects a state.\r\n */\r\n\r\nclass EmptyChart extends React.Component<{}, {chartData:{}, stateAbbr:string}>{\r\n\r\n    constructor(){\r\n        super({});\r\n\r\n        //make empty dateLabels and positiveIncreaseData\r\n        let dateLabels: string[] = [];\r\n        let positiveIncreaseData: number[] = [];\r\n        let state: string = \"\";\r\n        for (let i=13; i>=0; i--){\r\n            dateLabels.push(\"Select State\");\r\n            positiveIncreaseData.push(i);\r\n        }\r\n\r\n        //set state labels and data for graph\r\n        this.state={\r\n            chartData:{\r\n                labels: [\"month-day-year\", \"month-day-year\", \"month-day-year\"],\r\n                datasets: [\r\n                    {\r\n                        label: 'New Positive Cases',\r\n                        data: 0,\r\n                        backgroundColor: \"rgba(255, 15, 15, 0.4)\"\r\n                    }\r\n                ]\r\n                \r\n            },\r\n            stateAbbr: state //use if needed\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return(\r\n            <div className=\"chart\">\r\n                <Line\r\n                    data={this.state.chartData}\r\n                    options={{\r\n                        maintainAspectRatio: false,\r\n                        responsive: true\r\n                    }}\r\n                    height={500}\r\n                />\r\n\r\n            </div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default EmptyChart;","/**\r\n * Formats a number to include commas.\r\n * \r\n * @param num Number to format. Supports numbers from 0-999,999,999\r\n * \r\n * @returns number in string form with commas. IE: 1000 => 1,000\r\n * \r\n */\r\n\r\nconst formatNumber = (num: number) => {\r\n    let formattedNum: string = \"\";\r\n    let numStr: string = num.toString();\r\n\r\n\r\n    // 1,000 - 999,999 formatter.\r\n    if (numStr.length > 3 && numStr.length < 7){\r\n        formattedNum = numStr.substring(0, numStr.length-3).concat(\",\").concat(numStr.substring(numStr.length-3, numStr.length));\r\n        return formattedNum;\r\n    }\r\n    // 1,000,000 - 999,999,999\r\n    else if (numStr.length >= 7 && numStr.length < 10){\r\n        formattedNum = numStr.substring(0, numStr.length-6).concat(\",\").concat(numStr.substring(numStr.length-6, numStr.length-3))\r\n        .concat(\",\").concat(numStr.substring(numStr.length-3, numStr.length));\r\n        return formattedNum;\r\n    }\r\n    else {\r\n        return numStr;\r\n    }\r\n\r\n    \r\n    \r\n\r\n    \r\n\r\n    \r\n}\r\n\r\nexport default formatNumber;","/**\r\n * Takes a Date type and formats the date in a YYYY-MM-DDT00:00:00.000 format as a string.\r\n * @param date the date to format in the YYYY-MM-DDT00:00:00.000 format as a string.\r\n * @returns newDate string as YYYY-MM-DDT00:00:00.000.\r\n */\r\nconst makeDate = (date: Date) => {\r\n\r\n    //get the year month and day of date\r\n    let year: number = date.getFullYear();\r\n    let month: number = date.getMonth() + 1; //starts at 0, so plus 1 gets correct calendar date.\r\n    let day: number = date.getDate();\r\n    let newDate: string = \"\";\r\n\r\n    //convert year month day into string to get proper date then concat T00:00:00.000.\r\n    //also adds 0 infront of month if less than 10, and some with day.\r\n    if (month < 10){\r\n        if (day < 10){\r\n            newDate = \"\"+year+\"-0\"+month+\"-0\"+day+\"T00:00:00.000\";\r\n        }\r\n        else {\r\n            newDate = \"\"+year+\"-0\"+month+\"-\"+day+\"T00:00:00.000\";\r\n        }\r\n    }\r\n    else if (day < 10){\r\n        newDate = \"\"+year+\"-\"+month+\"-0\"+day+\"T00:00:00.000\";\r\n    }\r\n    else {\r\n        newDate = \"\"+year+\"-\"+month+\"-\"+day+\"T00:00:00.000\";\r\n    }\r\n    \r\n\r\n    return newDate;\r\n\r\n}\r\n\r\nexport default makeDate;","import {Case} from \"../interfaces/case\";\r\nimport DateFormatter from \"../utilities/DateFormatter\";\r\n\r\n/**\r\n * Selects a list of cases from a passed in list of cases based on the number of cases the user wants and the passed in date of the very last case they want.\r\n * @param cases An array of cases that holds information of a case state, date, and new_case.\r\n * @param date the last date you want the cases to span back to.\r\n * @param numOfPastDays The amount of days you want cases for.\r\n * @returns pastCases, a Case[] that holds case information for the number of specified cases.\r\n */\r\nconst selectCases = (cases: Case[], date: string, numOfPastDays: number) => {\r\n\r\n    //cases in the past.\r\n    let pastCases: Case[] = [];\r\n\r\n    //make an array with the pastCases.\r\n    let casesAdded:number = 0; //ensures that only the last specified amount of cases are obtained. Without this, \r\n                                //sometimes 15 cases could be obtained when the new case is added for the day when user only wanted 14.\r\n\r\n\r\n    //sort cases in correct order, newest date to oldest date.\r\n    cases.sort((a, b) => DateFormatter.formatDateNumber(b.submission_date) - DateFormatter.formatDateNumber(a.submission_date));\r\n\r\n    try {\r\n        cases.forEach(\r\n            (c: Case) => {\r\n                //format date as a number then check which dates to grab\r\n                if (DateFormatter.formatDateNumber(c.submission_date) >= DateFormatter.formatDateNumber(date) && casesAdded < numOfPastDays){\r\n                    let singleCase: Case = {\r\n                        state: c.state,\r\n                        submission_date: c.submission_date,\r\n                        new_case: Number(c.new_case)\r\n                    };\r\n\r\n                    pastCases.push(singleCase);\r\n                    //increase casesAdded\r\n                    casesAdded++;\r\n                }\r\n            }\r\n        )\r\n    } catch (error) {\r\n        console.log(\"ERROR: \"+error+\" Custom Message: No cases to get previous cases from.\");\r\n    }\r\n    \r\n\r\n    return pastCases;\r\n}\r\n\r\nexport default selectCases;","import {Case} from \"../interfaces/case\"\r\n\r\n/**\r\n * Calculates the total amount of cases that are in an array of Cases of type Case[].\r\n * @param pastCases Cases you wish to get the total amount of cases for.\r\n * @returns total cases as a number.\r\n */\r\nconst calcTotalCases = (pastCases: Case[]) => {\r\n\r\n    let totalCases: number = 0;\r\n\r\n    try {\r\n        pastCases.forEach(\r\n            (c: Case) => {\r\n                totalCases = totalCases + c.new_case;\r\n            }\r\n        );\r\n    } catch (error) {\r\n        console.log(\"ERROR: \"+error+\" Custom Message: No cases to calc total cases for.\");\r\n    }\r\n    \r\n\r\n    return totalCases;\r\n}\r\n\r\nexport default calcTotalCases;","import {Percent} from \"../interfaces/percent\";\r\nimport {Case} from \"../interfaces/case\";\r\n\r\n/**\r\n * Calculates the past percentage of active cases in the specified state based on population of the past two weeks.\r\n * @param pastCases Cases of type Case[] you wish to find past percentages of.\r\n * @param population The population of the selected state. Used to calc percent.\r\n * @returns perentages.reverse(), an array of percentages of type Percent[].\r\n */\r\nconst calcPastPercentages = (pastCases: Case[], population: number) => {\r\n    let percentages: Percent[] = [];\r\n    let totalPositiveCases: number = 0;\r\n    //find most current 14 cases from current case and calc percent.\r\n    //do this till at current date.\r\n\r\n    try {\r\n        for (let i=0; i<14; i++){ //goes through first two weeks of cases from beginning. newest to oldest.\r\n            for (let j=i; j<14+i; j++){ //starts at current case in the foreach loop\r\n                totalPositiveCases = totalPositiveCases + pastCases[j].new_case;\r\n            }\r\n\r\n            percentages.push({\r\n                state: pastCases[i].state,\r\n                submission_date: pastCases[i].submission_date,\r\n                percent: Number(((totalPositiveCases / population)*100).toFixed(2)),\r\n            });\r\n\r\n            totalPositiveCases = 0;\r\n        }\r\n    } catch (error) {\r\n        //do nothing. will give error when user has not selected a state yet. This is natural.\r\n    }\r\n    \r\n        \r\n\r\n\r\n    return percentages.reverse();\r\n}\r\n\r\nexport default calcPastPercentages;","import React, {useEffect, useState, useMemo} from 'react';\r\nimport { stateContext } from '../contexts/stateContext';\r\nimport {Case} from \"../interfaces/case\";\r\nimport {Percent} from \"../interfaces/percent\";\r\nimport Chart from './Chart';\r\nimport PercentChart from './PercentChart';\r\nimport EmptyChart from './EmptyChart';\r\nimport DateFormatter from \"../utilities/DateFormatter\";\r\nimport formatNumber from \"../utilities/NumberFormatter\";\r\nimport makeDate from \"../utilities/MakeDate\";\r\nimport selectCases from \"../utilities/SelectCases\";\r\nimport calcTotalCases from \"../utilities/CalcTotalCases\";\r\nimport calcPastPercentages from '../utilities/CalcPastPercentages';\r\n\r\n\r\n/**\r\n * Gets the cases from the provided state from user, displays the table, and calculates the total positive active cases and percentage of positive active cases in the state, based on \r\n * state population.\r\n * \r\n * Uses hooks to practice hooks\r\n */\r\n\r\nconst Cases: React.FC = () => {\r\n\r\n    //get context\r\n    const {state, abbr} = React.useContext(stateContext);\r\n\r\n    //illinois 2019 population.\r\n    //populations hash to store populations for each state\r\n    const populationsHash: Record<string, number> = {\r\n        \"California\": 39512223,\r\n        \"Texas\": 28995881,\r\n        \"Florida\": 21477737,\r\n        \"New York\": 19453561,\r\n        \"Illinois\": 12671821,\r\n        \"Pennsylvania\": 12801989,\r\n        \"Ohio\": 11689100,\r\n        \"Georgia\": 10617423,\r\n        \"North Carolina\": 10488084,\r\n        \"Michigan\": 9986857,\r\n        \"New Jersey\": 8882190,\r\n        \"Virginia\": 8535519,\r\n        \"Washington\": 7614893,\r\n        \"Arizona\": 7278717,\r\n        \"Massachusetts\": 6949503,\r\n        \"Tennessee\": 6833174,\r\n        \"Indiana\": 6732219,\r\n        \"Missouri\": 6137428,\r\n        \"Maryland\": 6045680,\r\n        \"Wisconsin\": 5822434,\r\n        \"Colorado\": 5758736,\r\n        \"Minnesota\": 5639632,\r\n        \"South Carolina\": 5148714,\r\n        \"Alabama\": 4903185,\r\n        \"Louisiana\": 4648794,\r\n        \"Kentucky\": 4467673,\r\n        \"Oregon\": 4217737,\r\n        \"Oklahoma\": 3956971,\r\n        \"Connecticut\": 3565287,\r\n        \"Utah\": 3205958,\r\n        \"Iowa\": 3155070,\r\n        \"Nevada\": 3080156,\r\n        \"Arkansas\": 3017825,\r\n        \"Mississippi\": 2976149,\r\n        \"Kansas\": 2913314,\r\n        \"New Mexico\": 2096829,\r\n        \"Nebraska\": 1934408,\r\n        \"West Virginia\": 1792147,\r\n        \"Idaho\": 1787065,\r\n        \"Hawaii\": 1415872,\r\n        \"New Hampshire\": 1359711,\r\n        \"Maine\": 1344212,\r\n        \"Montana\": 1068778,\r\n        \"Rhode Island\": 1059361,\r\n        \"Delaware\": 973764,\r\n        \"South Dakota\": 884659,\r\n        \"North Dakota\": 762062,\r\n        \"Alaska\": 731545,\r\n        \"District of Columbia\": 705749,\r\n        \"Vermont\": 623989,\r\n        \"Wyoming\": 578759,\r\n        \"\": 0, //if no state selected\r\n    }\r\n\r\n    let population: number = populationsHash[state]; //get the population of the state\r\n\r\n    //make cases a state variable\r\n    const [cases, setCases] = useState([])\r\n\r\n    //date state variable to get cases from CDC API\r\n    //assuming a month is 30 days. So will be 30 days ago.\r\n    const [monthAgoDate, setMonthAgoDate] = useState(\"\")\r\n\r\n    //get the cases with async\r\n    useEffect(() => {\r\n        const getCases = async () => {\r\n            if (abbr.length===2){ //check to make sure a proper state is selected.\r\n                const url: string = 'https://data.cdc.gov/resource/9mfq-cb36.json?$query=select * where(state=\"'+abbr+'\"+ and submission_date>=\"'+monthAgoDate+'\")';\r\n\r\n                const response = await fetch(url);\r\n\r\n                const data = await response.json();\r\n\r\n                setCases(data);\r\n            }\r\n        };\r\n\r\n        getCases();\r\n\r\n        \r\n    }, [abbr, monthAgoDate]); //will re get data once abbr is changed. IE: user selects a different state.\r\n\r\n\r\n    const [currentDate, setCurrentDate] = useState(\"MM-DD-YYYY\"); //used to display current date to user.\r\n\r\n    const [pastPercentages, setPastPercentages] = useState<Percent[]>([{\r\n        state: \"\",\r\n        submission_date: \"\",\r\n        percent: 0,\r\n    }]);\r\n\r\n    const [pastTwoWeeksCases, setPastTwoWeeksCases] = useState<Case[]>([{\r\n        state: \"\",\r\n        submission_date: \"\",\r\n        new_case: 0,\r\n    }]);\r\n\r\n    const [totalActiveCases, setTotalActiveCases] = useState(0);\r\n\r\n    //Uses memo to only get cases when state is changed by user. This avoids getting this data with every render.\r\n    useMemo(() => {\r\n\r\n        //get date from two weeks ago from the last case two weeks ago, including that last case and the past cases in the past four weeks\r\n        let fourWeeksAgo: Date = new Date(((Date.now() - 864e5) - 12096e5) - 11232e5); //will be used to calc past two weeks active cases percentage.\r\n\r\n        let fourWeeksAgoDate: string = makeDate(fourWeeksAgo); //put date in correct order and format as a string.\r\n       \r\n        let pastFourWeeksCases: Case[] = selectCases(cases, fourWeeksAgoDate, 28); //get the cases in the past four weeks.\r\n\r\n        let pastPercentagesOfActiveCases: Percent[] = calcPastPercentages(pastFourWeeksCases, population); //get the past active cases percentage based of state population spanning back two weeks.\r\n                                                                                                           //this list of percents are ordered oldest to newest.\r\n\r\n        if (pastFourWeeksCases.length > 0){ //only get the current date when the array is filled. Avoids invalid index error.\r\n            setCurrentDate(DateFormatter.formatDate(pastFourWeeksCases[0].submission_date)); //get most recent date of data.\r\n        }\r\n        \r\n        \r\n        //get date from two weeks ago, the past cases, and total active cases in the past two weeks.\r\n        let twoWeeksAgo: Date = new Date((Date.now() - 864e5) - 12096e5);\r\n\r\n        let twoWeeksAgoDate: string = makeDate(twoWeeksAgo); //put date in correct order and format as a string.\r\n        \r\n        let pastTwoWeeksCases: Case[] = selectCases(pastFourWeeksCases, twoWeeksAgoDate, 14);   //get the cases in the past two weeks\r\n                                                                                                //will most likely use outside of this file.\r\n        let totalActiveCases:number = calcTotalCases(pastTwoWeeksCases);    //get total active cases from past two weeks. \r\n                                                                            //used to monitor active cases.\r\n\r\n        setMonthAgoDate(makeDate(new Date(Date.now() - 25920e5)));\r\n        setPastPercentages(pastPercentagesOfActiveCases);\r\n        setPastTwoWeeksCases(pastTwoWeeksCases);\r\n        setTotalActiveCases(totalActiveCases);\r\n    }, [cases]); //Though there is a warning to include population as a dependency, doing so makes useMemo run twice when\r\n                //user changes state as useMemo will first see the change in population and run useMemo, then will also \r\n                //see changes in cases and will run useMemo again. This is unnecessary as we really only need to run \r\n                //useMemo when cases are changed as this is what is important. Running twice will only create poor \r\n                //performance with a mass amount of users. Plus population is a constant variable, unless we make \r\n                //population be based off of an API that monitors it daily where it changes constantly.\r\n    \r\n\r\n\r\n    return(\r\n        <div>\r\n            <div>\r\n                {pastTwoWeeksCases.length === 0 ? (\r\n                    <div>\r\n                        <h3>Select a state to see the data.</h3>\r\n                        <EmptyChart />\r\n                        <br />\r\n                        <PercentChart percents = {[]}/>\r\n                    </div>\r\n                ) : (\r\n                    <div>\r\n                        <Chart {...pastTwoWeeksCases}/>\r\n                        <br />\r\n                        <PercentChart percents = {pastPercentages}/>\r\n                    </div>\r\n                )}\r\n            </div>\r\n            <br /><br />\r\n            <div>\r\n                \r\n                \r\n                {population === 0 ? (\r\n                    <div>\r\n                        <h4>Select a state to see:</h4>\r\n                        <div className=\"content-section\">\r\n                            <h5>Total recorded active cases in the state.</h5>\r\n                        </div>\r\n                        <div className=\"content-section\">\r\n                            <h5>Percentage of recorded active cases in the state based on the state's 2019 population.</h5>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div>\r\n                        <div className=\"content-section\">\r\n                            <h5>Total recorded active cases as of {currentDate} in {state}: {formatNumber(totalActiveCases)}</h5>\r\n                        </div>\r\n                        <div className=\"content-section\">\r\n                            <h5>Percentage of recorded active cases as of {currentDate} in {state} based on {state}'s 2019 population of {formatNumber(population)} people: {((totalActiveCases / population)*100).toFixed(2)+\"%\"}</h5>  \r\n                        </div>\r\n                    </div>\r\n                )}\r\n                \r\n                <br />\r\n                <div className=\"table-responsive\">\r\n                    <h2>Past reported live positive cases spanning back two weeks:</h2>\r\n                    <table className=\"table table-striped table-sm table-bordered\">\r\n                        <thead className=\"thead-dark\">\r\n                            <tr>\r\n                                <th>State</th>\r\n                                <th>Date</th>\r\n                                <th>New Positive Cases Recorded</th>\r\n                                <th>Percentage of Active Cases</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {pastTwoWeeksCases.map(\r\n                                (c: Case) => {\r\n                                    return (\r\n                                        <tr key={c.submission_date}>\r\n                                            <td>{c.state}</td>\r\n                                            <td>{DateFormatter.formatDate(c.submission_date)}</td>\r\n                                            <td>{formatNumber(c.new_case)}</td>\r\n                                            <td>{pastPercentages.find(({submission_date}) => submission_date === c.submission_date)?.percent}</td>\r\n                                        </tr>\r\n                                    );\r\n                                }\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cases;\r\n\r\n\r\n \r\n","import React from 'react';\r\nimport { useState, useContext } from 'react';\r\nimport {State} from \"../interfaces/state\";\r\nimport {stateContext} from '../contexts/stateContext'\r\n\r\n\r\n\r\nconst Dropdown: React.FC = () => {\r\n\r\n    const {state, abbr, setState} = useContext(stateContext);\r\n\r\n    //all the states.\r\n    const [states] = useState([\r\n        {state: \"Alabama\", abbr: \"AL\"},\r\n        {state: \"Alaska\", abbr: \"AK\"},\r\n        {state: \"Arizona\", abbr: \"AZ\"},\r\n        {state: \"Arkansas\", abbr: \"AR\"},\r\n        {state: \"California\", abbr: \"CA\"},\r\n        {state: \"Colorado\", abbr: \"CO\"},\r\n        {state: \"Connecticut\", abbr: \"CT\"},\r\n        {state: \"Delaware\", abbr: \"DE\"},\r\n        {state: \"District of Columbia\", abbr: \"DC\"},\r\n        {state: \"Florida\", abbr: \"FL\"},\r\n        {state: \"Georgia\", abbr: \"GA\"},\r\n        {state: \"Hawaii\", abbr: \"HI\"},\r\n        {state: \"Idaho\", abbr: \"ID\"},\r\n        {state: \"Illinois\", abbr: \"IL\"},\r\n        {state: \"Indiana\", abbr: \"IN\"},\r\n        {state: \"Iowa\", abbr: \"IA\"},\r\n        {state: \"Kansas\", abbr: \"KS\"},\r\n        {state: \"Kentucky\", abbr: \"KY\"},\r\n        {state: \"Louisiana\", abbr: \"LA\"},\r\n        {state: \"Maine\", abbr: \"ME\"},\r\n        {state: \"Maryland\", abbr: \"MD\"},\r\n        {state: \"Massachusetts\", abbr: \"MA\"},\r\n        {state: \"Michigan\", abbr: \"MI\"},\r\n        {state: \"Minnesota\", abbr: \"MN\"},\r\n        {state: \"Mississippi\", abbr: \"MS\"},\r\n        {state: \"Missouri\", abbr: \"MO\"},\r\n        {state: \"Montana\", abbr: \"MT\"},\r\n        {state: \"Nebraska\", abbr: \"NE\"},\r\n        {state: \"Nevada\", abbr: \"NV\"},\r\n        {state: \"New Hampshire\", abbr: \"NH\"},\r\n        {state: \"New Jersey\", abbr: \"NJ\"},\r\n        {state: \"New Mexico\", abbr: \"NM\"},\r\n        {state: \"New York\", abbr: \"NY\"},\r\n        {state: \"North Carolina\", abbr: \"NC\"},\r\n        {state: \"North Dakota\", abbr: \"ND\"},\r\n        {state: \"Ohio\", abbr: \"OH\"},\r\n        {state: \"Oklahoma\", abbr: \"OK\"},\r\n        {state: \"Oregon\", abbr: \"OR\"},\r\n        {state: \"Pennsylvania\", abbr: \"PA\"},\r\n        {state: \"Rhode Island\", abbr: \"RI\"},\r\n        {state: \"South Carolina\", abbr: \"SC\"},\r\n        {state: \"South Dakota\", abbr: \"SD\"},\r\n        {state: \"Tennessee\", abbr: \"TN\"},\r\n        {state: \"Texas\", abbr: \"TX\"},\r\n        {state: \"Utah\", abbr: \"UT\"},\r\n        {state: \"Vermont\", abbr: \"VT\"},\r\n        {state: \"Virginia\", abbr: \"VA\"},\r\n        {state: \"Washington\", abbr: \"WA\"},\r\n        {state: \"West Virginia\", abbr: \"WV\"},\r\n        {state: \"Wisconsin\", abbr: \"WI\"},\r\n        {state: \"Wyoming\", abbr: \"WY\"},\r\n    ])\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            {state === \"\" ? (\r\n                <h2>Select a state to see new Positive Case Increases per day from the last two weeks for that state.</h2>\r\n            ) : (\r\n                <h2>New Positive Case Increases per day from the last two weeks in {state}: </h2>\r\n            )}\r\n            \r\n            <p>All data is based off of CDC's API. The numbers from the API also include propable cases as well and so does this application.</p>\r\n            <p>Population data is from: https://www.infoplease.com/us/states/state-population-by-rank</p>\r\n            <select className=\"float-right btn btn-sm btn-outline-dark dropdown-toggle\"\r\n                    value={abbr}\r\n                    onChange={(e) => setState({\r\n                        state: e.target.options[e.target.selectedIndex].text,\r\n                        abbr: e.currentTarget.value,\r\n                        setState: (): void => {}\r\n                    })}\r\n            >\r\n                <option defaultValue=\"\"></option>\r\n                {states.map(\r\n                    (s: State) =>{\r\n                        return(\r\n                            <option key={s.state} value={s.abbr}>{s.state}</option>\r\n                        );\r\n                    }\r\n                )}\r\n                \r\n            </select> \r\n            <h4 className=\"float-right\">Select State: &nbsp;</h4>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dropdown;","import React from 'react';\r\nimport './App.css';\r\nimport Nav from './components/Nav';\r\nimport Cases from './components/Cases';\r\nimport Dropdown from './components/Dropdown';\r\nimport StateProvider from './contexts/stateContext';\r\n\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      \r\n      <Nav/>\r\n      \r\n      <div className=\"content-section-update\">\r\n        <h3>Now using CDC's COVID API. The COVID Tracking Project API previously used has officially ended on March 7th 2021, due to government improvement on tracking the virus.</h3>\r\n        <p>\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n      \r\n          <main role=\"main\" className=\"col-md-9 ms-sm-auto col-lg-10 px-md-4\">\r\n            \r\n            <StateProvider>\r\n              \r\n              <Dropdown />\r\n\r\n              \r\n              \r\n              <br /><br />\r\n              \r\n              <Cases />\r\n              \r\n            </StateProvider>\r\n      \r\n            \r\n\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}