(this["webpackJsonpcovid-active-cases-frontend"]=this["webpackJsonpcovid-active-cases-frontend"]||[]).push([[0],{155:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(46),i=a.n(c),o=(a(53),a(54),function(){return Object(s.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(s.jsx)("a",{className:"navbar-brand me-0 px-3",href:"javascript:void(0)",children:"COVID-19 Active Cases"}),Object(s.jsx)("a",{className:"portfolio me-0 px-3",href:"https://brandonwsa.github.io/",children:"My Portfolio"})]})}),b=a(9),l=a(30),d=a.n(l),h=a(47),u=a(2),j={state:"",abbr:"",setState:function(e){throw new Error("setState function must be overriden")}},O=r.a.createContext(j),p=function(e){var t=e.children,a=Object(n.useState)(j),r=Object(u.a)(a,2),c=r[0],i=r[1];return Object(s.jsx)(O.Provider,{value:Object(b.a)(Object(b.a)({},c),{},{setState:i}),children:t})},v=a(16),x=a(17),f=a(19),g=a(18),m=a(6),w=function(e){var t=e.substring(0,4),a=e.substring(5,7),s=e.substring(8,10);return a.concat("-").concat(s).concat("-").concat(t)},N=function(e){var t=e.substring(0,4),a=e.substring(5,7),s=e.substring(8,10);return+t.concat(a).concat(s)},C=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e,s){var n;Object(v.a)(this,a),n=t.call(this,e);var r=[],c=[],i="";try{for(var o=0;o<14&&void 0!==n.props[o];o++)r.push(w(n.props[o].submission_date)),c.push(n.props[o].new_case);void 0!==n.props[0]&&(i=n.props[0].state),r.reverse(),c.reverse()}catch(b){console.log(b)}return n.state={chartData:{labels:r,datasets:[{label:"New Positive Cases",data:c,backgroundColor:"rgba(255, 15, 15, 0.4)"}]},stateAbbr:i},n}return Object(x.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props[0].state!==e[0].state){var t=[],a=[],s="";try{for(var n=0;n<14&&void 0!==this.props[n];n++)t.push(w(this.props[n].submission_date)),a.push(this.props[n].new_case);void 0!==this.props[0]&&(s=this.props[0].state),t.reverse(),a.reverse()}catch(c){console.log(c)}var r={chartData:{labels:t,datasets:[{label:"New Positive Cases",data:a,backgroundColor:"rgba(255, 15, 15, 0.4)"}]},stateAbbr:s};this.setState(r)}}},{key:"render",value:function(){return Object(s.jsx)("div",{className:"chart",children:Object(s.jsx)(m.Line,{data:this.state.chartData,options:{maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},height:500})})}}]),a}(r.a.Component),y=function(e){e.children;var t=e.percents,a=[],r=[],c="",i="rgba(15, 150, 255, 0.4)";try{t.forEach((function(e){a.push(w(e.submission_date)),r.push(e.percent),c=e.state}))}catch(h){console.log("ERROR in PercentChart.tsx: "+h)}var o=Object(n.useState)({labels:["month-day-year","month-day-year","month-day-year"],datasets:[{label:"Past Percentages of Active Cases",data:r,backgroundColor:i}]}),b=Object(u.a)(o,2),l=b[0],d=b[1];return Object(n.useMemo)((function(){if(""!==c)try{d({labels:a,datasets:[{label:"Past Percentages of Active Cases",data:r,backgroundColor:i}]})}catch(h){console.log("ERROR in PercentChart.tsx: "+h)}}),[c,i]),Object(s.jsx)("div",{className:"chart",children:Object(s.jsx)(m.Line,{data:l,options:{maintainAspectRatio:!1,responsive:!0,scales:{yAxes:[{ticks:{suggestedMax:1,beginAtZero:!0}}]}},height:500})})},k=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(v.a)(this,a),e=t.call(this,{});for(var s=[],n=[],r=13;r>=0;r--)s.push("Select State"),n.push(r);return e.state={chartData:{labels:["month-day-year","month-day-year","month-day-year"],datasets:[{label:"New Positive Cases",data:0,backgroundColor:"rgba(255, 15, 15, 0.4)"}]},stateAbbr:""},e}return Object(x.a)(a,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"chart",children:Object(s.jsx)(m.Line,{data:this.state.chartData,options:{maintainAspectRatio:!1,responsive:!0},height:500})})}}]),a}(r.a.Component),A=function(e){var t=e.toString();return t.length>3&&t.length<7?t.substring(0,t.length-3).concat(",").concat(t.substring(t.length-3,t.length)):t.length>=7&&t.length<10?t.substring(0,t.length-6).concat(",").concat(t.substring(t.length-6,t.length-3)).concat(",").concat(t.substring(t.length-3,t.length)):t},M=function(e){return e.getFullYear()+"-0"+(e.getMonth()+1)+"-"+e.getDate()+"T00:00:00.000"},D=function(e,t,a){var s=[],n=0;try{e.forEach((function(e){if(N(e.submission_date)>=N(t)&&n<a){var r={state:e.state,submission_date:e.submission_date,new_case:Number(e.new_case)};s.push(r),n++}}))}catch(r){console.log("ERROR: "+r+" Custom Message: No cases to get previous cases from.")}return s.sort((function(e,t){return N(t.submission_date)-N(e.submission_date)})),s},S=function(e){var t=0;try{e.forEach((function(e){t+=e.new_case}))}catch(a){console.log("ERROR: "+a+" Custom Message: No cases to calc total cases for.")}return t},I=function(e,t){var a=[],s=0;try{for(var n=0;n<14;n++){for(var r=n;r<14+n;r++)s+=e[r].new_case;a.push({state:e[n].state,submission_date:e[n].submission_date,percent:Number((s/t*100).toFixed(2))}),s=0}}catch(c){}return a.reverse()},P=function(){var e=r.a.useContext(O),t=e.state,a=e.abbr,c={California:39512223,Texas:28995881,Florida:21477737,"New York":19453561,Illinois:12671821,Pennsylvania:12801989,Ohio:11689100,Georgia:10617423,"North Carolina":10488084,Michigan:9986857,"New Jersey":8882190,Virginia:8535519,Washington:7614893,Arizona:7278717,Massachusetts:6949503,Tennessee:6833174,Indiana:6732219,Missouri:6137428,Maryland:6045680,Wisconsin:5822434,Colorado:5758736,Minnesota:5639632,"South Carolina":5148714,Alabama:4903185,Louisiana:4648794,Kentucky:4467673,Oregon:4217737,Oklahoma:3956971,Connecticut:3565287,Utah:3205958,Iowa:3155070,Nevada:3080156,Arkansas:3017825,Mississippi:2976149,Kansas:2913314,"New Mexico":2096829,Nebraska:1934408,"West Virginia":1792147,Idaho:1787065,Hawaii:1415872,"New Hampshire":1359711,Maine:1344212,Montana:1068778,"Rhode Island":1059361,Delaware:973764,"South Dakota":884659,"North Dakota":762062,Alaska:731545,"District of Columbia":705749,Vermont:623989,Wyoming:578759,"":0}[t],i=Object(n.useState)([]),o=Object(u.a)(i,2),l=o[0],j=o[1],p=Object(n.useState)(""),v=Object(u.a)(p,2),x=v[0],f=v[1];Object(n.useEffect)((function(){(function(){var e=Object(h.a)(d.a.mark((function e(){var t,s,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2!==a.length){e.next=9;break}return t='https://data.cdc.gov/resource/9mfq-cb36.json?$query=select * where(state="'+a+'"+ and submission_date>="'+x+'")',e.next=4,fetch(t);case 4:return s=e.sent,e.next=7,s.json();case 7:n=e.sent,j(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,x]);var g=Object(n.useState)("MM-DD-YYYY"),m=Object(u.a)(g,2),N=m[0],P=m[1],_=Object(n.useState)([{state:"",submission_date:"",percent:0}]),R=Object(u.a)(_,2),T=R[0],V=R[1],E=Object(n.useState)([{state:"",submission_date:"",new_case:0}]),W=Object(u.a)(E,2),L=W[0],F=W[1],Y=Object(n.useState)(0),K=Object(u.a)(Y,2),H=K[0],J=K[1];return Object(n.useMemo)((function(){var e=new Date(Date.now()-12096e5-11232e5),t=M(e),a=D(l,t,28),s=I(a,c);a.length>0&&P(w(a[0].submission_date));var n=new Date(Date.now()-12096e5),r=M(n),i=D(a,r,14),o=S(i);f(M(new Date(Date.now()-2592e6))),V(s),F(i),J(o)}),[l,c]),Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:0===L.length?Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"Select a state to see the data."}),Object(s.jsx)(k,{}),Object(s.jsx)("br",{}),Object(s.jsx)(y,{percents:[]})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)(C,Object(b.a)({},L)),Object(s.jsx)("br",{}),Object(s.jsx)(y,{percents:T})]})}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{children:[0===c?Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:"Select a state to see:"}),Object(s.jsx)("div",{className:"content-section",children:Object(s.jsx)("h5",{children:"Total recorded active cases in the state."})}),Object(s.jsx)("div",{className:"content-section",children:Object(s.jsx)("h5",{children:"Percentage of recorded active cases in the state based on the state's 2019 population."})})]}):Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"content-section",children:Object(s.jsxs)("h5",{children:["Total recorded active cases as of ",N," in ",t,": ",A(H)]})}),Object(s.jsx)("div",{className:"content-section",children:Object(s.jsxs)("h5",{children:["Percentage of recorded active cases as of ",N," in ",t," based on ",t,"'s 2019 population of ",A(c)," people: ",(H/c*100).toFixed(2)+"%"]})})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("div",{className:"table-responsive",children:[Object(s.jsx)("h2",{children:"Past reported live positive cases spanning back two weeks:"}),Object(s.jsxs)("table",{className:"table table-striped table-sm table-bordered",children:[Object(s.jsx)("thead",{className:"thead-dark",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:"State"}),Object(s.jsx)("th",{children:"Date"}),Object(s.jsx)("th",{children:"New Positive Cases Recorded"}),Object(s.jsx)("th",{children:"Percentage of Active Cases"})]})}),Object(s.jsx)("tbody",{children:L.map((function(e){var t;return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.state}),Object(s.jsx)("td",{children:w(e.submission_date)}),Object(s.jsx)("td",{children:A(e.new_case)}),Object(s.jsx)("td",{children:null===(t=T.find((function(t){return t.submission_date===e.submission_date})))||void 0===t?void 0:t.percent})]},e.submission_date)}))})]})]})]})]})},_=function(){var e=Object(n.useContext)(O),t=e.state,a=e.abbr,r=e.setState,c=Object(n.useState)([{state:"Alabama",abbr:"AL"},{state:"Alaska",abbr:"AK"},{state:"Arizona",abbr:"AZ"},{state:"Arkansas",abbr:"AR"},{state:"California",abbr:"CA"},{state:"Colorado",abbr:"CO"},{state:"Connecticut",abbr:"CT"},{state:"Delaware",abbr:"DE"},{state:"District of Columbia",abbr:"DC"},{state:"Florida",abbr:"FL"},{state:"Georgia",abbr:"GA"},{state:"Hawaii",abbr:"HI"},{state:"Idaho",abbr:"ID"},{state:"Illinois",abbr:"IL"},{state:"Indiana",abbr:"IN"},{state:"Iowa",abbr:"IA"},{state:"Kansas",abbr:"KS"},{state:"Kentucky",abbr:"KY"},{state:"Louisiana",abbr:"LA"},{state:"Maine",abbr:"ME"},{state:"Maryland",abbr:"MD"},{state:"Massachusetts",abbr:"MA"},{state:"Michigan",abbr:"MI"},{state:"Minnesota",abbr:"MN"},{state:"Mississippi",abbr:"MS"},{state:"Missouri",abbr:"MO"},{state:"Montana",abbr:"MT"},{state:"Nebraska",abbr:"NE"},{state:"Nevada",abbr:"NV"},{state:"New Hampshire",abbr:"NH"},{state:"New Jersey",abbr:"NJ"},{state:"New Mexico",abbr:"NM"},{state:"New York",abbr:"NY"},{state:"North Carolina",abbr:"NC"},{state:"North Dakota",abbr:"ND"},{state:"Ohio",abbr:"OH"},{state:"Oklahoma",abbr:"OK"},{state:"Oregon",abbr:"OR"},{state:"Pennsylvania",abbr:"PA"},{state:"Rhode Island",abbr:"RI"},{state:"South Carolina",abbr:"SC"},{state:"South Dakota",abbr:"SD"},{state:"Tennessee",abbr:"TN"},{state:"Texas",abbr:"TX"},{state:"Utah",abbr:"UT"},{state:"Vermont",abbr:"VT"},{state:"Virginia",abbr:"VA"},{state:"Washington",abbr:"WA"},{state:"West Virginia",abbr:"WV"},{state:"Wisconsin",abbr:"WI"},{state:"Wyoming",abbr:"WY"}]),i=Object(u.a)(c,1)[0];return Object(s.jsxs)("div",{children:[""===t?Object(s.jsx)("h2",{children:"Select a state to see new Positive Case Increases per day from the last two weeks for that state."}):Object(s.jsxs)("h2",{children:["New Positive Case Increases per day from the last two weeks in ",t,": "]}),Object(s.jsx)("p",{children:"All data is based off of CDC's API. The numbers from the API also include propable cases as well and so does this application."}),Object(s.jsx)("p",{children:"Population data is from: https://www.infoplease.com/us/states/state-population-by-rank"}),Object(s.jsxs)("select",{className:"float-right btn btn-sm btn-outline-dark dropdown-toggle",value:a,onChange:function(e){return r({state:e.target.options[e.target.selectedIndex].text,abbr:e.currentTarget.value,setState:function(){}})},children:[Object(s.jsx)("option",{defaultValue:""}),i.map((function(e){return Object(s.jsx)("option",{value:e.abbr,children:e.state},e.state)}))]}),Object(s.jsx)("h4",{className:"float-right",children:"Select State: \xa0"})]})};var R=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(o,{}),Object(s.jsxs)("div",{className:"content-section-update",children:[Object(s.jsx)("h3",{children:"Now using CDC's COVID API. The COVID Tracking Project API previously used has officially ended on March 7th 2021, due to government improvement on tracking the virus."}),Object(s.jsx)("p",{})]}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("main",{role:"main",className:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:Object(s.jsxs)(p,{children:[Object(s.jsx)(_,{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(P,{})]})})})})]})},T=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,156)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(R,{})}),document.getElementById("root")),T()},53:function(e,t,a){},54:function(e,t,a){}},[[155,1,2]]]);
//# sourceMappingURL=main.615bf0ff.chunk.js.map